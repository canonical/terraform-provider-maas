---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "maas_subnet Resource - terraform-provider-maas"
subcategory: ""
description: |-
  Provides a resource to manage MAAS network subnets.
  NOTE: The MAAS provider currently supports both standalone resources and in-line resources for subnet IP ranges. You cannot use in-line ip_ranges in conjunction with standalone maas_subnet_ip_range resources. Doing so will cause conflicts and will overwrite subnet IP ranges.
---

# maas_subnet (Resource)

Provides a resource to manage MAAS network subnets.

**NOTE:** The MAAS provider currently supports both standalone resources and in-line resources for subnet IP ranges. You cannot use in-line `ip_ranges` in conjunction with standalone `maas_subnet_ip_range` resources. Doing so will cause conflicts and will overwrite subnet IP ranges.

## Example Usage

```terraform
resource "maas_subnet" "tf_subnet" {
  cidr       = "10.88.88.0/24"
  fabric     = maas_fabric.tf_fabric.id
  vlan       = maas_vlan.tf_vlan.vid
  name       = "tf_subnet"
  gateway_ip = "10.88.88.1"
  dns_servers = [
    "1.1.1.1",
  ]
  ip_ranges {
    type     = "reserved"
    start_ip = "10.88.88.1"
    end_ip   = "10.88.88.50"
  }
  ip_ranges {
    type     = "dynamic"
    start_ip = "10.88.88.200"
    end_ip   = "10.88.88.254"
  }
}

resource "maas_subnet" "tf_subnet_2" {
  cidr       = "10.77.77.0/24"
  name       = "tf_subnet_2"
  fabric     = maas_fabric.tf_fabric.id
  gateway_ip = "10.77.77.1"
  dns_servers = [
    "1.1.1.1",
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cidr` (String) The subnet CIDR.

### Optional

- `allow_dns` (Boolean) Boolean value that indicates if the MAAS DNS resolution is enabled for this subnet. Defaults to `true`.
- `allow_proxy` (Boolean) Boolean value that indicates if `maas-proxy` allows requests from this subnet. Defaults to `true`.
- `dns_servers` (List of String) List of IP addresses set as DNS servers for the new subnet. This argument is computed if it's not set.
- `fabric` (String) The fabric identifier (ID or name) for the new subnet.
- `gateway_ip` (String) Gateway IP address for the new subnet. This argument is computed if it's not set.
- `ip_ranges` (Block Set) A set of IP ranges configured on the new subnet. Parameters defined below. This argument is processed in [attribute-as-blocks mode](https://www.terraform.io/docs/configuration/attr-as-blocks.html). (see [below for nested schema](#nestedblock--ip_ranges))
- `name` (String) The subnet name.
- `rdns_mode` (Number) How reverse DNS is handled for this subnet. Defaults to `2`. Valid options are:
	* `0` - Disabled, no reverse zone is created.
	* `1` - Enabled, generate reverse zone.
	* `2` - RFC2317, extends `1` to create the necessary parent zone with the appropriate CNAME resource records for the network, if the network is small enough to require the support described in RFC2317.
- `vlan` (String) The VLAN identifier (ID or traffic segregation ID) for the new subnet. If this is set, the `fabric` argument is required.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--ip_ranges"></a>
### Nested Schema for `ip_ranges`

Required:

- `end_ip` (String) The end IP for the new IP range (inclusive).
- `start_ip` (String) The start IP for the new IP range (inclusive).
- `type` (String) The IP range type. Valid options are: `dynamic`, `reserved`.

Optional:

- `comment` (String) A description of this range.

## Import

Import is supported using the following syntax:

```shell
# MAAS network subnets can be imported using the ID or CIDR. e.g.
$ terraform import maas_subnet.tf_subnet 10.77.77.0/24
```
