---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "maas_block_device Resource - terraform-provider-maas"
subcategory: ""
description: |-
  Provides a resource to manage MAAS machines' block devices.
---

# maas_block_device (Resource)

Provides a resource to manage MAAS machines' block devices.

## Example Usage

```terraform
resource "maas_block_device" "vdb" {
  machine        = maas_machine.virsh_vm2.id
  name           = "vdb"
  id_path        = "/dev/vdb"
  size_gigabytes = 27
  tags = [
    "ssd",
  ]

  partitions {
    size_gigabytes = 10
    fs_type        = "ext4"
    label          = "media"
    mount_point    = "/media"
  }

  partitions {
    size_gigabytes = 15
    fs_type        = "ext4"
    mount_point    = "/storage"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `machine` (String) The machine identifier (system ID, hostname, or FQDN) that owns the block device.
- `name` (String) The block device name.
- `size_gigabytes` (Number) The size of the block device (given in GB).

### Optional

- `block_size` (Number) The block size of the block device. Defaults to `512`.
- `id_path` (String) Only used if `model` and `serial` cannot be provided. This should be a path that is fixed and doesn't change depending on the boot order or kernel version. This argument is computed if it's not given.
- `is_boot_device` (Boolean) Boolean value indicating if the block device is set as the boot device.
- `model` (String) Model of the block device. Used in conjunction with `serial` argument. Conflicts with `id_path`. This argument is computed if it's not given.
- `partitions` (Block List) List of partition resources created for the new block device. Parameters defined below. This argument is processed in [attribute-as-blocks mode](https://www.terraform.io/docs/configuration/attr-as-blocks.html). And, it is computed if it's not given. (see [below for nested schema](#nestedblock--partitions))
- `serial` (String) Serial number of the block device. Used in conjunction with `model` argument. Conflicts with `id_path`. This argument is computed if it's not given.
- `tags` (Set of String) A set of tag names assigned to the new block device. This argument is computed if it's not given.

### Read-Only

- `id` (String) The ID of this resource.
- `path` (String) Block device path.
- `uuid` (String) Block device UUID.

<a id="nestedblock--partitions"></a>
### Nested Schema for `partitions`

Required:

- `size_gigabytes` (Number) The partition size (given in GB).

Optional:

- `bootable` (Boolean) Boolean value indicating if the partition is set as bootable.
- `fs_type` (String) The file system type (e.g. `ext4`). If this is not set, the partition is unformatted.
- `label` (String) The label assigned if the partition is formatted.
- `mount_options` (String) The options used for the partition mount.
- `mount_point` (String) The mount point used. If this is not set, the partition is not mounted. This is used only the partition is formatted.
- `tags` (Set of String) The tags assigned to the new block device partition.

Read-Only:

- `path` (String) The path of the partition.

## Import

Import is supported using the following syntax:

```shell
# Block devices can be imported with the machine identifier (system ID, hostname, or FQDN) and the block device identifier (ID or name). e.g.
$ terraform import maas_block_device.vdb machine-06:vdb
```
